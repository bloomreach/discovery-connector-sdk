<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Search document</title>

  <script>
    window.bloomreachDefaultCurrency = '$'
  </script>

  <script id="connector-example">
    window.bloomreachConnector = {}
    bloomreachConnector.config = {
      /* ðŸ‘‡ different prices on variants (in production v1) */
      /* account_id: '6544',
       domain_key: 'sandbox_bornconnector_shopify', */

      /* ðŸ‘‡ keyword redirect on term "candy" (in production v1) */
      /* account_id: '6545',
       domain_key: 'sandbox_bornconnector_bigcommerce', */

      /* ðŸ‘‡ for testing grouping (in production v1) */
      account_id: '6413',
      domain_key: 'pacifichome',

      /* ðŸ‘‡ for testing swatches (in staging) */
      /* account_id: '6486',
       domain_key: 'splendid', */

      /* account_id: '6298', // <-- error?
       domain_key: 'zoro', */

      /* ðŸ‘‡ lots of facets */
      /* account_id: '6525',
       domain_key: 'levelninesports', */

      default_search_parameter: 'q',
      search_page_url: 'http://localhost:3000/documents/product-search',
      // This is an example to a money formatting function that's applied to the displayed prices
      /* format_money: (priceInCents) => {
       return `Â£${(priceInCents / 100.0).toLocaleString(undefined, {
       minimumFractionDigits: 2,
       maximumFractionDigits: 2
       })}`
       }, */
      search: {
        enabled: true,
        // endpoint: 'https://staging-core.dxpapi.com/api/v1/core/',
        facets_included: true,
        initial_number_of_facets: 5,
        initial_number_of_facet_values: 6,
        infinite_scroll: false,
        selector: '.main-content',
        sorting_options: [
          {label: 'Price (low - high)', value: 'price+asc'},
          {label: 'Name (A - Z)', value: 'title+asc'},
          {label: 'Price (high - low)', value: 'price+desc'},
          {label: 'Relevance', value: ''},
          {label: 'Name (Z - A)', value: 'title+desc'}
        ],
        is_search_page: true,
        display_variants: false,
        // groupby: 'material',
        groupby_options: [
          {label: 'Material', value: 'material'},
          {label: 'Color', value: 'colorFamily'},
        ],
        group_limit: 2,
        items_per_page: 63,
        // group_limit: 4,
        // items_per_page: 16,
        // items_per_page: 5,
      },
      autosuggest: {
        enabled: true,
        number_of_terms: 13,
        number_of_products: 14,
        number_of_collections: 12,
        selector: '.search__input'
      },
      category: {
        enabled: true,
        sorting_options: [
          {label: 'Relevance', value: ''},
          {label: 'Price (low - high)', value: 'price+asc'},
          {label: 'Name (A - Z)', value: 'title+asc'},
          {label: 'Price (high - low)', value: 'price+desc'},
          {label: 'Name (Z - A)', value: 'title+desc'}
        ],
        items_per_page: 12,
        facets_included: true,
        initial_number_of_facets: 5,
        initial_number_of_facet_values: 6,
        infinite_scroll: false,
        selector: '.main-content',
        is_category_page: false,
        display_variants: true
      }
    }
  </script>

  <script type="module">
    var br_data = br_data || {}
    br_data.acct_id = 6525
    br_data.user_id = undefined
    br_data.tms = 'gtm'
    br_data.ptype = 'search'
    switch (br_data.ptype) {
      case 'search':
        br_data.search_term = 'bike shorts'
    }

    ;(function () {
      var a = document.createElement('script')
      a.type = 'text/javascript'
      a.async = !0
      a.src =
        'https:' == document.location.protocol
          ? 'https://cdns.brsrvr.com/v1/br-trk-6525.js'
          : 'http://cdn.brcdn.com/v1/br-trk-6525.js'
      var b = document.getElementsByTagName('script')[0]
      b.parentNode.insertBefore(a, b)
    })()
  </script>

  <style>
    input,
    textarea {
      padding: 10px 12px;
      }

    body,
    input,
    textarea,
    button,
    select {
      font-size: 15px;
      font-family: 'Open Sans', sans-serif;
      font-weight: 400;
      font-style: normal;
      color: #666666;
      line-height: 1.6;
      }
  </style>

  <link rel="stylesheet" href="/dist/search.css" />
  <script type="application/javascript" src="/dist/search.js" defer></script>
</head>
<body>
<h1>Product Search module</h1>

<main class="main-content">Original content...</main>
</body>
</html>
